# 브라우저의 렌더링 과정

1. 브라우저 주소창에 도메인을 입력하고 엔터 키를 누르면 DNS를 통해 해당 도메인에 연결된 IP로 루트 요청을 보낸다.  
   (일반적으로 서버는 루트 요청에 대해 암묵적으로 `index.html`을 응답하도록 기본 설정 되어있다.)

2. 서버는 `index.html`을 응답하고, 브라우저의 렌더링 엔진은 응답받은 `index.html`을 한 줄씩 파싱하기 시작한다.

3. 도중에 외부 리소스를 로드하는 태그, 즉 `<link>`, `<img>`, `<script>` 태그 등을 만나면 HTML의 파싱을 일시 중단하고, 해당 리소스 파일을 서버로 요청하여 응답받는다.

4. html을 파싱하여, DOM을 생성하고, css를 파싱하여 CSSOM을 생성한다.  
   (DOM은 브라우저가 이해할 수 있는 자료구조로 HTML 문서를 파싱한 결과물이다.)

5. DOM과 CSSOM을 합쳐서 렌더 트리를 형성한다. (렌더 트리는 렌더링을 위한 트리 자료구조로 브라우저 화면에 렌더링 될 노드들만 포함하고 있다.)

6. 렌더 트리를 이용해서 HTML 요소들의 레이아웃(위치와 크기)을 계산하고, 페인팅 처리에 의해 화면에 그려진다.

> 위와 같은 렌더링 과정은 반복해서 실행될 수 있는데 예를 들어, 다음과 같은 경우 반복해서 레이아웃 계산과 페인팅이 재차 실행된다. (리플로우, 리페인팅)
>
> - 자바스크립트에 의한 노드 추가 및 삭제
> - 브라우저 창의 리사이징에 의한 뷰포트(viewport) 크기 변경
> - HTML 요소의 레이아웃을 변경시키는 CSS 속성의 변경

7. `script` 태그를 만나면 자바스크립트 런타임 엔진이 제어권을 가지고 코드를 파싱하여 AST를 형성한다. 이를 기반으로 인터프리터가 실행할 수 있는 중간 코드인 바이트 코드를 생성하여 실행한다.
